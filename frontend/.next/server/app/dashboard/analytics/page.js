(()=>{var e={};e.id=754,e.ids=[754],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4080:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mr3za\\\\Desktop\\\\CURSOR-GIT-CLONE\\\\v2ray-management-system\\\\frontend\\\\src\\\\app\\\\dashboard\\\\analytics\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mr3za\\Desktop\\CURSOR-GIT-CLONE\\v2ray-management-system\\frontend\\src\\app\\dashboard\\analytics\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15695:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=t(65239),a=t(48088),n=t(88170),i=t.n(n),l=t(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d={children:["",{children:["dashboard",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4080)),"C:\\Users\\mr3za\\Desktop\\CURSOR-GIT-CLONE\\v2ray-management-system\\frontend\\src\\app\\dashboard\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63144)),"C:\\Users\\mr3za\\Desktop\\CURSOR-GIT-CLONE\\v2ray-management-system\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\mr3za\\Desktop\\CURSOR-GIT-CLONE\\v2ray-management-system\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\mr3za\\Desktop\\CURSOR-GIT-CLONE\\v2ray-management-system\\frontend\\src\\app\\dashboard\\analytics\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/analytics/page",pathname:"/dashboard/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41312:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71619:(e,s,t)=>{Promise.resolve().then(t.bind(t,4080))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85691:(e,s,t)=>{Promise.resolve().then(t.bind(t,88789))},85763:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>l});var r=t(60687),a=t(43210),n=t(41360),i=t(4780);let l=n.bL,c=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(n.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=n.B8.displayName;let d=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(n.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=n.l9.displayName;let o=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(n.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=n.UC.displayName},88789:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var r=t(60687),a=t(43210),n=t(20998),i=t(27031),l=t(44493),c=t(2975),d=t(89422),o=t(70334);function m({title:e,description:s,metric:t,prefix:a="",suffix:n="",previousLabel:i="vs. previous period",icon:m,onClick:x}){var u;return(0,r.jsxs)(l.Zp,{className:x?"cursor-pointer transition-colors hover:bg-accent/5":"",onClick:x,children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:e}),m]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold",children:[a,(u=t.value)>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(1)}K`:u.toString(),n]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(()=>{switch(t.trend){case"up":return(0,r.jsx)(c.A,{className:"h-4 w-4 text-green-600"});case"down":return(0,r.jsx)(d.A,{className:"h-4 w-4 text-red-600"});default:return(0,r.jsx)(o.A,{className:"h-4 w-4 text-gray-600"})}})(),(0,r.jsxs)("p",{className:`text-xs ${(()=>{switch(t.trend){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})()}`,children:[t.change>=0?"+":"",t.change,"%"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]}),s&&(0,r.jsx)(l.BT,{className:"pt-2",children:s})]})})]})}var x=t(85763),u=t(6211),h=t(96834),p=t(29523),j=t(41312),y=t(18962);let g=(0,y.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),v=(0,y.A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),f=(0,y.A)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),b=(0,y.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),N=(0,y.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function k({data:e,onApply:s}){let[t,n]=(0,a.useState)("segments"),[i,c]=(0,a.useState)(null),d=async(e,t)=>{try{c(e),await s(e,t)}catch(e){console.error("Failed to apply recommendation:",e)}finally{c(null)}};return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f,{className:"h-5 w-5 text-primary"}),(0,r.jsx)(l.ZB,{children:"AI Insights & Recommendations"})]}),(0,r.jsx)(l.BT,{children:"Data-driven recommendations to optimize your business performance"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(x.tU,{value:t,onValueChange:n,children:[(0,r.jsxs)(x.j7,{className:"grid w-full grid-cols-4",children:[(0,r.jsxs)(x.Xi,{value:"segments",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Segments"]}),(0,r.jsxs)(x.Xi,{value:"content",children:[(0,r.jsx)(b,{className:"mr-2 h-4 w-4"}),"Content"]}),(0,r.jsxs)(x.Xi,{value:"pricing",children:[(0,r.jsx)(N,{className:"mr-2 h-4 w-4"}),"Pricing"]}),(0,r.jsxs)(x.Xi,{value:"retention",children:[(0,r.jsx)(v,{className:"mr-2 h-4 w-4"}),"Retention"]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)(x.av,{value:"segments",children:(0,r.jsx)("div",{className:"space-y-4",children:e.userSegmentation.map((e,s)=>(0,r.jsxs)(l.Zp,{className:"overflow-hidden",children:[(0,r.jsx)(l.aR,{className:"bg-primary/5",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(l.ZB,{className:"text-lg",children:e.segment}),(0,r.jsxs)(l.BT,{children:["Predicted LTV: $",e.predictedLTV.toFixed(2)]})]}),(0,r.jsx)(j.A,{className:"h-8 w-8 text-primary"})]})}),(0,r.jsx)(l.Wu,{className:"pt-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"mb-2 font-semibold",children:"Characteristics"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.characteristics.map((e,s)=>(0,r.jsx)(h.E,{variant:"secondary",children:e},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"mb-2 font-semibold",children:"Recommended Plans"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.recommendedPlans.map((e,s)=>(0,r.jsx)(h.E,{variant:"outline",children:e},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"mb-2 font-semibold",children:"Marketing Messages"}),(0,r.jsx)("ul",{className:"list-inside list-disc space-y-1",children:e.marketingMessages.map((e,s)=>(0,r.jsx)("li",{className:"text-sm text-muted-foreground",children:e},s))})]}),(0,r.jsx)(p.$,{className:"w-full",onClick:()=>d("segment",e),disabled:"segment"===i,children:"segment"===i?"Applying...":(0,r.jsxs)(r.Fragment,{children:["Apply Recommendations",(0,r.jsx)(o.A,{className:"ml-2 h-4 w-4"})]})})]})})]},s))})}),(0,r.jsx)(x.av,{value:"content",children:(0,r.jsx)("div",{className:"space-y-4",children:e.contentSuggestions.map((e,s)=>(0,r.jsx)(l.Zp,{children:(0,r.jsxs)(l.Wu,{className:"pt-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.topic}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Type: ",e.type," • Best Time: ",new Date(e.bestTime).toLocaleString()]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:e.targetAudience.map((e,s)=>(0,r.jsx)(h.E,{variant:"secondary",children:e},s))})]}),(0,r.jsxs)(h.E,{variant:"outline",className:"ml-2",children:[e.predictedEngagement.toFixed(1),"% Engagement"]})]}),(0,r.jsx)(p.$,{className:"mt-4 w-full",variant:"outline",onClick:()=>d("content",e),disabled:"content"===i,children:"content"===i?"Generating...":(0,r.jsxs)(r.Fragment,{children:["Generate Content",(0,r.jsx)(g,{className:"ml-2 h-4 w-4"})]})})]})},s))})}),(0,r.jsx)(x.av,{value:"pricing",children:(0,r.jsxs)(u.XI,{children:[(0,r.jsx)(u.A0,{children:(0,r.jsxs)(u.Hj,{children:[(0,r.jsx)(u.nd,{children:"Plan"}),(0,r.jsx)(u.nd,{children:"Current Price"}),(0,r.jsx)(u.nd,{children:"Recommended"}),(0,r.jsx)(u.nd,{children:"Potential Lift"}),(0,r.jsx)(u.nd,{children:"Action"})]})}),(0,r.jsx)(u.BF,{children:e.pricingOptimization.map(e=>(0,r.jsxs)(u.Hj,{children:[(0,r.jsx)(u.nA,{className:"font-medium",children:e.planId}),(0,r.jsxs)(u.nA,{children:["$",e.currentPrice]}),(0,r.jsxs)(u.nA,{className:"text-green-600",children:["$",e.recommendedPrice]}),(0,r.jsxs)(u.nA,{children:["+",e.potentialRevenueLift,"%"]}),(0,r.jsx)(u.nA,{children:(0,r.jsx)(p.$,{size:"sm",onClick:()=>d("pricing",e),disabled:i===`pricing-${e.planId}`,children:i===`pricing-${e.planId}`?"Updating...":"Update Price"})})]},e.planId))})]})}),(0,r.jsx)(x.av,{value:"retention",children:(0,r.jsx)("div",{className:"space-y-4",children:e.retentionStrategies.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{children:e.riskSegment}),(0,r.jsxs)(l.BT,{children:["Churn Probability: ",(100*e.churnProbability).toFixed(1),"%"]})]}),(0,r.jsx)(v,{className:`h-8 w-8 ${e.churnProbability>.7?"text-red-500":e.churnProbability>.3?"text-yellow-500":"text-green-500"}`})]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(u.XI,{children:[(0,r.jsx)(u.A0,{children:(0,r.jsxs)(u.Hj,{children:[(0,r.jsx)(u.nd,{children:"Action"}),(0,r.jsx)(u.nd,{children:"Priority"}),(0,r.jsx)(u.nd,{children:"Impact"}),(0,r.jsx)(u.nd,{})]})}),(0,r.jsx)(u.BF,{children:e.recommendedActions.map((s,t)=>(0,r.jsxs)(u.Hj,{children:[(0,r.jsx)(u.nA,{children:s.action}),(0,r.jsx)(u.nA,{children:(0,r.jsx)(h.E,{variant:"high"===s.priority?"destructive":"medium"===s.priority?"default":"secondary",children:s.priority})}),(0,r.jsxs)(u.nA,{children:["+",s.expectedImpact,"%"]}),(0,r.jsx)(u.nA,{children:(0,r.jsx)(p.$,{size:"sm",variant:"outline",onClick:()=>d("retention",{segment:e.riskSegment,action:s}),disabled:i===`retention-${t}`,children:i===`retention-${t}`?"Applying...":"Apply"})})]},t))})]})})]},s))})})]})]})})]})}var w=t(26373),A=t(40988),C=t(15079),R=t(40228),P=t(37074),M=t(90327),S=t(10869),q=t(96987);function U(e,s){return(0,q.P)(e,-s)}var L=t(21350);function O({value:e,startDate:s,endDate:t,onChange:n}){let[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({from:s,to:t});return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(C.l6,{value:e,onValueChange:e=>{let s,t;if("custom"===e){l(!0);return}let r=new Date;switch(e){case"today":s=(0,P.o)(r),t=r;break;case"yesterday":s=(0,P.o)((0,M.f)(r,-1)),t=(0,P.o)(r);break;case"week":s=(0,P.o)((0,S.J)(r,-1)),t=r;break;case"month":s=(0,P.o)(U(r,1)),t=r;break;case"quarter":s=(0,P.o)(U(r,3)),t=r;break;case"year":s=(0,P.o)(U(r,12)),t=r}n(e,s,t)},children:[(0,r.jsx)(C.bq,{className:"w-[180px]",children:(0,r.jsx)(C.yv,{placeholder:"Select time range"})}),(0,r.jsxs)(C.gC,{children:[(0,r.jsx)(C.eb,{value:"today",children:"Today"}),(0,r.jsx)(C.eb,{value:"yesterday",children:"Yesterday"}),(0,r.jsx)(C.eb,{value:"week",children:"Last 7 days"}),(0,r.jsx)(C.eb,{value:"month",children:"Last 30 days"}),(0,r.jsx)(C.eb,{value:"quarter",children:"Last 90 days"}),(0,r.jsx)(C.eb,{value:"year",children:"Last 365 days"}),(0,r.jsx)(C.eb,{value:"custom",children:"Custom Range"})]})]}),(0,r.jsxs)(A.AM,{open:i,onOpenChange:l,children:[(0,r.jsx)(A.Wv,{asChild:!0,children:(0,r.jsxs)(p.$,{variant:"outline",className:`w-[280px] justify-start text-left font-normal ${!e&&"text-muted-foreground"}`,children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"}),(()=>{if("custom"===e&&s&&t)return`${(0,L.GP)(s,"MMM d, yyyy")} - ${(0,L.GP)((0,M.f)(t,-1),"MMM d, yyyy")}`;switch(e){case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"Last 7 days";case"month":return"Last 30 days";case"quarter":return"Last 90 days";case"year":return"Last 365 days";default:return"Select date range"}})()]})}),(0,r.jsx)(A.hl,{className:"w-auto p-0",align:"end",children:(0,r.jsx)(w.V,{initialFocus:!0,mode:"range",defaultMonth:s,selected:c,onSelect:e=>{d(e),e.from&&e.to&&(n("custom",e.from,(0,M.f)(e.to,1)),l(!1))},numberOfMonths:2})})]})]})}var $=t(85778);let I=(0,y.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),T=(0,y.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var E=t(93508);let z=(0,y.A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function Z(){let{metrics:e,revenueData:s,userAnalytics:t,marketingInsights:l,aiRecommendations:c,isLoading:d,error:o,getAnalytics:x,applyRecommendation:u}=(0,n.useAnalyticsStore)(),[h,p]=(0,a.useState)("month"),[y,g]=(0,a.useState)(),[v,f]=(0,a.useState)(),b=()=>{x({timeRange:h,startDate:y?.toISOString(),endDate:v?.toISOString()})},N=async(e,s)=>{try{await u(e,s),b()}catch(e){console.error("Failed to apply recommendation:",e)}};return o?(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsxs)("p",{className:"text-red-500",children:["Error: ",o]})}):(0,r.jsxs)("div",{className:"space-y-6 p-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Analytics & Insights"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Monitor your business performance and get AI-powered recommendations"})]}),(0,r.jsx)(O,{value:h,startDate:y,endDate:v,onChange:(e,s,t)=>{p(e),g(s),f(t)}}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsx)(m,{title:"Total Revenue",metric:e.totalRevenue,prefix:"$",icon:(0,r.jsx)($.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)(m,{title:"New Users",metric:e.newUsers,icon:(0,r.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)(m,{title:"Active Subscriptions",metric:e.activeSubscriptions,icon:(0,r.jsx)(I,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)(m,{title:"Average Order Value",metric:e.averageOrderValue,prefix:"$",icon:(0,r.jsx)(T,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)(m,{title:"User Retention",metric:e.userRetentionRate,suffix:"%",icon:(0,r.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)(m,{title:"Churn Rate",metric:e.churnRate,suffix:"%",icon:(0,r.jsx)(z,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(i.Z,{title:"Revenue Over Time",type:"area",data:s.byPeriod,metric:s.total,loading:d}),(0,r.jsx)(i.Z,{title:"User Acquisition",type:"bar",data:{labels:t.acquisitionChannels.map(e=>e.channel),datasets:[{label:"New Users",data:t.acquisitionChannels.map(e=>e.users),backgroundColor:["rgba(59, 130, 246, 0.5)","rgba(16, 185, 129, 0.5)","rgba(249, 115, 22, 0.5)","rgba(139, 92, 246, 0.5)"]},{label:"Conversion Rate",data:t.acquisitionChannels.map(e=>e.conversion),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(249, 115, 22, 0.8)","rgba(139, 92, 246, 0.8)"]}]},loading:d})]}),(0,r.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,r.jsx)(i.Z,{title:"User Retention Cohorts",description:"User retention rates by cohort over time",type:"line",data:{labels:t.retentionCohorts[0]?.retentionRates.map((e,s)=>`Week ${s+1}`),datasets:t.retentionCohorts.map(e=>({label:e.cohort,data:e.retentionRates,borderColor:`hsl(${360*Math.random()}, 70%, 50%)`}))},loading:d}),(0,r.jsx)(i.Z,{title:"Revenue by Plan",description:"Revenue distribution across different plans",type:"pie",data:{labels:Object.keys(s.byPlan),datasets:[{data:Object.values(s.byPlan).map(e=>e.value),backgroundColor:["rgba(59, 130, 246, 0.5)","rgba(16, 185, 129, 0.5)","rgba(249, 115, 22, 0.5)","rgba(139, 92, 246, 0.5)"]}]},loading:d})]}),(0,r.jsx)(k,{data:c,onApply:N})]})}},93508:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[527,817,814,635,988,360,779,227,998,991],()=>t(15695));module.exports=r})();